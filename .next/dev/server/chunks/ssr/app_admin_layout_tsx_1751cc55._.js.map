{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/dithdyt/Kuliner-Nusantara/app/admin/layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname, useRouter } from \"next/navigation\"\nimport { \n  LayoutDashboard, \n  MessageSquare, \n  Utensils, \n  ShieldCheck, \n  LogOut,\n  ChevronLeft,\n  ChevronRight\n} from \"lucide-react\"\n\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\n  const pathname = usePathname()\n  const router = useRouter()\n  const [isSidebarOpen, setSidebarOpen] = useState(true)\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    setMounted(true)\n    \n    // PROTEKSI SAKRAL: Cek apakah yang login beneran Admin\n    const token = localStorage.getItem(\"auth_token\")\n    const role = localStorage.getItem(\"user_role\")\n\n    // Jika mencoba akses /admin tapi gak punya token admin atau bukan role admin\n    if (pathname.startsWith(\"/admin\") && pathname !== \"/admin/login\") {\n      if (!token || role !== \"admin\") {\n        router.replace(\"/admin/login\") // Tendang paksa ke login admin\n      }\n    }\n  }, [pathname, router])\n\n  const menuItems = [\n    { name: \"Dashboard\", href: \"/admin\", icon: LayoutDashboard },\n    { name: \"Moderasi Ulasan\", href: \"/admin/reviews\", icon: MessageSquare },\n    { name: \"Daftar Kuliner\", href: \"/admin/kuliner\", icon: Utensils },\n    { name: \"Verifikasi UMKM\", href: \"/admin/umkm-verification\", icon: ShieldCheck },\n  ]\n\n  const handleLogout = () => {\n    localStorage.clear()\n    router.push(\"/admin/login\")\n  }\n\n  // Jangan render konten admin sebelum pengecekan mounted selesai\n  if (!mounted) return null\n\n  // Jika di halaman login admin, jangan tampilkan sidebar\n  if (pathname === \"/admin/login\") {\n    return <>{children}</>\n  }\n\n  return (\n    <div className=\"flex h-screen bg-[#f8f9fa] text-[#3b2f2f] font-sans\">\n      {/* Sidebar Internal Admin */}\n      <aside className={`${isSidebarOpen ? \"w-64\" : \"w-20\"} bg-[#1a1a1a] transition-all duration-300 flex flex-col shadow-2xl z-50`}>\n        <div className=\"p-6 border-b border-white/5 flex items-center justify-between\">\n          {isSidebarOpen && (\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center font-bold text-white shadow-lg shadow-red-600/20\">A</div>\n              <span className=\"font-bold text-white tracking-widest text-sm\">ADMIN SYSTEM</span>\n            </div>\n          )}\n          <button onClick={() => setSidebarOpen(!isSidebarOpen)} className=\"text-white/40 hover:text-white mx-auto\">\n            {isSidebarOpen ? <ChevronLeft size={20} /> : <ChevronRight size={20} />}\n          </button>\n        </div>\n\n        <nav className=\"flex-1 px-4 py-8 space-y-2\">\n          {menuItems.map((item) => {\n            const isActive = pathname === item.href\n            return (\n              <Link key={item.href} href={item.href}\n                className={`flex items-center gap-4 px-4 py-3 rounded-xl transition-all ${\n                  isActive ? \"bg-red-600 text-white shadow-lg shadow-red-600/20\" : \"text-gray-400 hover:bg-white/5 hover:text-white\"\n                }`}\n              >\n                <item.icon size={20} />\n                {isSidebarOpen && <span className=\"text-sm font-bold\">{item.name}</span>}\n              </Link>\n            )\n          })}\n        </nav>\n\n        <div className=\"p-4 border-t border-white/5\">\n          <button onClick={handleLogout} className=\"w-full flex items-center gap-4 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-xl transition-all font-bold\">\n            <LogOut size={20} />\n            {isSidebarOpen && <span className=\"text-sm\">Keluar Sistem</span>}\n          </button>\n        </div>\n      </aside>\n\n      <main className=\"flex-1 flex flex-col overflow-hidden bg-[#f0f2f5]\">\n        <header className=\"h-16 bg-white border-b border-gray-200 px-8 flex items-center justify-between\">\n          <h1 className=\"text-sm font-black text-gray-400 uppercase tracking-widest\">\n            Control Panel / <span className=\"text-gray-800\">{menuItems.find(i => i.href === pathname)?.name || \"Dashboard\"}</span>\n          </h1>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-right\">\n              <p className=\"text-xs font-bold text-red-600 uppercase tracking-tighter\">Root Access</p>\n              <p className=\"text-xs font-bold text-gray-400\">Authenticated</p>\n            </div>\n            <div className=\"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center font-bold text-white shadow-md\">AD</div>\n          </div>\n        </header>\n        <div className=\"flex-1 overflow-y-auto p-8\">{children}</div>\n      </main>\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}